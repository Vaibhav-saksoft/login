{"version":3,"file":"index.js","sources":["../../src/components/Login.jsx"],"sourcesContent":["import React, { useState } from \"react\";\n\n/**\n * POC Login Page (micro frontend)\n * - Dispatches a browser event with token when login succeeds\n * - UI unchanged\n */\n\nconst fakeGenerateToken = (username) =>\n  `POC-TOKEN.${btoa(username + \"|\" + Date.now())}.${Math.random()\n    .toString(36)\n    .slice(2)}`;\n\nconst Input = ({ label, type = \"text\", value, onChange, placeholder }) => (\n  <div style={{ marginBottom: 12 }}>\n    <label\n      style={{\n        display: \"block\",\n        fontSize: 13,\n        color: \"#3b3b3b\",\n        marginBottom: 6,\n      }}\n    >\n      {label}\n    </label>\n    <input\n      value={value}\n      onChange={onChange}\n      placeholder={placeholder}\n      type={type}\n      style={{\n        width: \"100%\",\n        padding: \"10px 12px\",\n        borderRadius: 8,\n        border: \"1px solid #e6e6e6\",\n        boxSizing: \"border-box\",\n        fontSize: 14,\n      }}\n    />\n  </div>\n);\n\nexport default function Login() {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const submit = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n\n    if (!username.trim() || !password) {\n      setError(\"Please enter username and password.\");\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      // Simulate API delay\n      await new Promise((r) => setTimeout(r, 700));\n\n      // Demo credentials\n      if (username === \"admin\" && password === \"1234\") {\n        const token = fakeGenerateToken(username);\n\n        // ✅ Dispatch token to dashboard host (event-based communication)\n        window.dispatchEvent(\n          new CustomEvent(\"user-logged-in\", {\n            detail: { token, user: { username } },\n          })\n        );\n      } else {\n        setError(\"Invalid username or password.\");\n      }\n    } catch (err) {\n      setError(\"Login failed — try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div\n      style={{\n        minWidth: 320,\n        maxWidth: 420,\n        margin: \"40px auto\",\n        padding: 28,\n        borderRadius: 12,\n        boxShadow: \"0 10px 30px rgba(15, 23, 42, 0.08)\",\n        background: \"linear-gradient(180deg,#fff,#fbfbfb)\",\n        fontFamily: \"Inter, Roboto, system-ui, -apple-system, sans-serif\",\n      }}\n    >\n      <div style={{ textAlign: \"center\", marginBottom: 10 }}>\n        <div\n          style={{\n            width: \"auto\",\n            height: 64,\n            borderRadius: 12,\n            background: \"#0ea5a4\",\n            display: \"inline-flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            color: \"white\",\n            fontWeight: 700,\n            fontSize: 28,\n            marginBottom: 8,\n            padding: \"0px 14px\",\n          }}\n        >\n          DoveTail\n        </div>\n        <h2 style={{ margin: 0, fontSize: 20 }}>Welcome back</h2>\n        <p style={{ margin: \"6px 0 18px\", color: \"#666\", fontSize: 13 }}>\n          Sign in to continue to Dashboard\n        </p>\n      </div>\n\n      <form onSubmit={submit}>\n        <Input\n          label=\"Username\"\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n          placeholder=\"e.g. admin\"\n        />\n        <Input\n          label=\"Password\"\n          type=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          placeholder=\"Your password\"\n        />\n\n        {error && (\n          <div style={{ color: \"#b00020\", marginBottom: 12, fontSize: 13 }}>\n            {error}\n          </div>\n        )}\n\n        <button\n          type=\"submit\"\n          disabled={loading}\n          style={{\n            width: \"100%\",\n            padding: \"10px 14px\",\n            borderRadius: 8,\n            border: \"none\",\n            background: \"#0ea5a4\",\n            color: \"white\",\n            fontSize: 15,\n            cursor: loading ? \"wait\" : \"pointer\",\n            boxShadow: \"0 6px 18px rgba(14,165,164,0.18)\",\n          }}\n        >\n          {loading ? \"Signing in...\" : \"Sign in\"}\n        </button>\n      </form>\n\n      <div\n        style={{\n          marginTop: 14,\n          textAlign: \"center\",\n          fontSize: 13,\n          color: \"#666\",\n        }}\n      >\n        For demo use <strong>admin / 1234</strong>\n      </div>\n    </div>\n  );\n}\n"],"names":["fakeGenerateToken","username","concat","btoa","Date","now","Math","random","toString","slice","Input","_ref","label","_ref$type","type","value","onChange","placeholder","React","createElement","style","marginBottom","display","fontSize","color","width","padding","borderRadius","border","boxSizing","Login","_useState","useState","_useState2","_slicedToArray","setUsername","_useState3","_useState4","password","setPassword","_useState5","_useState6","loading","setLoading","_useState7","_useState8","error","setError","submit","_ref2","_asyncToGenerator","_regenerator","m","_callee","e","token","w","_context","p","n","preventDefault","trim","a","Promise","r","setTimeout","window","dispatchEvent","CustomEvent","detail","user","v","f","_x","apply","arguments","minWidth","maxWidth","margin","boxShadow","background","fontFamily","textAlign","height","alignItems","justifyContent","fontWeight","onSubmit","target","disabled","cursor","marginTop"],"mappings":"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"}